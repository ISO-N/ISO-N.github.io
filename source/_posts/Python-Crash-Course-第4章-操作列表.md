---
title: ç¬¬4ç«  æ“ä½œåˆ—è¡¨
date: 2026-02-17 15:04:48
categories:
- [ç¼–ç¨‹æŠ€æœ¯, Python]
tags:
- Python-Crash-Course
---
## 4.1 éå†æ•´ä¸ªåˆ—è¡¨

ä½¿ç”¨ `for` å¾ªç¯å¯ä»¥éå†åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼š

```python
magicians = ['alice', 'david', 'carolina']
for magician in magicians:
    print(magician)
```

**è¦ç‚¹ï¼š**

- `for` å¾ªç¯ä¼šä¾æ¬¡å°†åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ èµ‹å€¼ç»™ä¸´æ—¶å˜é‡
- ä¸´æ—¶å˜é‡çš„å‘½åå»ºè®®ä½¿ç”¨**æœ‰æ„ä¹‰çš„å•æ•°åç§°**ï¼Œå¦‚ `for cat in cats:`ã€`for item in items:`
- å¾ªç¯ä½“ä¸­çš„ç¼©è¿›ä»£ç ä¼šå¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡

### åœ¨ for å¾ªç¯ä¸­æ‰§è¡Œæ›´å¤šæ“ä½œ

å¯ä»¥åœ¨å¾ªç¯ä½“ä¸­åŒ…å«å¤šè¡Œä»£ç ï¼š

```python
magicians = ['alice', 'david', 'carolina']
for magician in magicians:
    print(f"{magician.title()}, that was a great trick!")
    print(f"I can't wait to see your next trick, {magician.title()}.\n")
```

### åœ¨ for å¾ªç¯ç»“æŸåæ‰§è¡Œä¸€äº›æ“ä½œ

æ²¡æœ‰ç¼©è¿›çš„ä»£ç åªåœ¨å¾ªç¯ç»“æŸåæ‰§è¡Œä¸€æ¬¡ï¼š

```python
for magician in magicians:
    print(f"{magician.title()}, that was a great trick!")

print("Thank you, everyone. That was a great magic show!")
```

---

## 4.2 é¿å…ç¼©è¿›é”™è¯¯

Python ä½¿ç”¨ç¼©è¿›æ¥åˆ¤æ–­ä»£ç ä¸å‰ä¸€è¡Œçš„å…³ç³»ï¼Œå¸¸è§ç¼©è¿›é”™è¯¯åŒ…æ‹¬ï¼š

| **é”™è¯¯ç±»å‹** | **è¯´æ˜** |
| --- | --- |
| å¿˜è®°ç¼©è¿› | for å¾ªç¯ä½“ä¸­çš„ä»£ç å¿…é¡»ç¼©è¿›ï¼Œå¦åˆ™æŠ¥ `IndentationError` |
| å¿˜è®°ç¼©è¿›é¢å¤–çš„ä»£ç è¡Œ | å¾ªç¯ä½“ä¸­æ‰€æœ‰éœ€è¦é‡å¤æ‰§è¡Œçš„ä»£ç éƒ½è¦ç¼©è¿›ï¼ˆé€»è¾‘é”™è¯¯ï¼Œä¸ä¼šæŠ¥é”™ï¼‰ |
| ä¸å¿…è¦çš„ç¼©è¿› | ä¸åœ¨å¾ªç¯ä¸­çš„ä»£ç ä¸åº”ç¼©è¿›ï¼Œå¦åˆ™æŠ¥ `IndentationError` |
| å¾ªç¯åä¸å¿…è¦çš„ç¼©è¿› | å°†åªéœ€æ‰§è¡Œä¸€æ¬¡çš„ä»£ç æ”¾åœ¨å¾ªç¯ä½“å†…ä¼šå¯¼è‡´é€»è¾‘é”™è¯¯ |
| é—æ¼å†’å· | `for` è¯­å¥æœ«å°¾å¿…é¡»æœ‰å†’å· `:`ï¼Œå¦åˆ™æŠ¥ `SyntaxError` |

---

## 4.3 åˆ›å»ºæ•°å€¼åˆ—è¡¨

### ä½¿ç”¨å‡½æ•° range()

`range()` ç”Ÿæˆä¸€ç³»åˆ—æ•°å­—ï¼Œæ³¨æ„**å·®ä¸€è¡Œä¸º**ï¼ˆä¸åŒ…å«ç»ˆæ­¢å€¼ï¼‰ï¼š

```python
for value in range(1, 5):
    print(value)    # è¾“å‡º 1, 2, 3, 4ï¼ˆä¸åŒ…å« 5ï¼‰
```

- `range(6)` â†’ 0, 1, 2, 3, 4, 5
- `range(1, 6)` â†’ 1, 2, 3, 4, 5
- `range(2, 11, 2)` â†’ 2, 4, 6, 8, 10ï¼ˆç¬¬ä¸‰ä¸ªå‚æ•°ä¸º**æ­¥é•¿**ï¼‰

### ä½¿ç”¨ range() åˆ›å»ºæ•°å­—åˆ—è¡¨

ä½¿ç”¨ `list()` å°† `range()` çš„ç»“æœè½¬æ¢ä¸ºåˆ—è¡¨ï¼š

```python
numbers = list(range(1, 6))
print(numbers)    # [1, 2, 3, 4, 5]
```

```python
# åˆ›å»ºå‰ 10 ä¸ªæ•´æ•°çš„å¹³æ–¹åˆ—è¡¨
squares = []
for value in range(1, 11):
    squares.append(value ** 2)

print(squares)    # [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
```

### å¯¹æ•°å­—åˆ—è¡¨æ‰§è¡Œç®€å•çš„ç»Ÿè®¡è®¡ç®—

```python
digits = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]
min(digits)    # 0
max(digits)    # 9
sum(digits)    # 45
```

### åˆ—è¡¨è§£æï¼ˆList Comprehensionï¼‰

å°† `for` å¾ªç¯å’Œåˆ›å»ºæ–°å…ƒç´ çš„ä»£ç åˆå¹¶ä¸ºä¸€è¡Œï¼š

```python
squares = [value**2 for value in range(1, 11)]
print(squares)    # [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
```

<aside>
ğŸ’¡

åˆ—è¡¨è§£æçš„è¯­æ³•ï¼š`[è¡¨è¾¾å¼ for å˜é‡ in å¯è¿­ä»£å¯¹è±¡]`ï¼Œæ³¨æ„è¿™é‡Œçš„ `for` è¯­å¥**æœ«å°¾æ²¡æœ‰å†’å·**ã€‚

</aside>

---

## 4.4 ä½¿ç”¨åˆ—è¡¨çš„ä¸€éƒ¨åˆ†

### åˆ‡ç‰‡ï¼ˆSliceï¼‰

é€šè¿‡æŒ‡å®š**èµ·å§‹ç´¢å¼•**å’Œ**ç»ˆæ­¢ç´¢å¼•**æ¥æå–åˆ—è¡¨çš„å­é›†ï¼š

```python
players = ['charles', 'martina', 'michael', 'florence', 'eli']

print(players[0:3])    # ['charles', 'martina', 'michael']
print(players[1:4])    # ['martina', 'michael', 'florence']
print(players[:4])     # ä»å¤´å¼€å§‹ï¼š['charles', 'martina', 'michael', 'florence']
print(players[2:])     # åˆ°æœ«å°¾ï¼š['michael', 'florence', 'eli']
print(players[-3:])    # æœ€åä¸‰ä¸ªï¼š['michael', 'florence', 'eli']
```

<aside>
ğŸ“Œ

åˆ‡ç‰‡åŒæ ·éµå¾ª**å·®ä¸€è¡Œä¸º**ï¼š`players[0:3]` è¿”å›ç´¢å¼• 0ã€1ã€2 çš„å…ƒç´ ï¼Œä¸åŒ…å«ç´¢å¼• 3ã€‚

</aside>

è¿˜å¯ä»¥æŒ‡å®š**ç¬¬ä¸‰ä¸ªå€¼ï¼ˆæ­¥é•¿ï¼‰**ï¼š

```python
players[0:4:2]    # æ¯éš”ä¸€ä¸ªå–ä¸€ä¸ªï¼š['charles', 'michael']
```

### éå†åˆ‡ç‰‡

å¯ä»¥åœ¨ `for` å¾ªç¯ä¸­ä½¿ç”¨åˆ‡ç‰‡ï¼š

```python
players = ['charles', 'martina', 'michael', 'florence', 'eli']
for player in players[:3]:
    print(player.title())
```

### å¤åˆ¶åˆ—è¡¨

ä½¿ç”¨åˆ‡ç‰‡ `[:]` åˆ›å»ºåˆ—è¡¨çš„**å‰¯æœ¬**ï¼š

```python
my_foods = ['pizza', 'falafel', 'carrot cake']
friend_foods = my_foods[:]    # âœ… åˆ›å»ºå‰¯æœ¬ï¼Œä¸¤ä¸ªç‹¬ç«‹åˆ—è¡¨
```

<aside>
âš ï¸

**æ³¨æ„ï¼š** ç›´æ¥èµ‹å€¼ä¸ä¼šå¤åˆ¶åˆ—è¡¨ï¼Œè€Œæ˜¯è®©ä¸¤ä¸ªå˜é‡æŒ‡å‘**åŒä¸€ä¸ªåˆ—è¡¨**ï¼š

```python
friend_foods = my_foods    # âŒ ä¸æ˜¯å¤åˆ¶ï¼ä¸¤ä¸ªå˜é‡å…³è”åŒä¸€ä¸ªåˆ—è¡¨
```

æ­¤æ—¶ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªå˜é‡çš„åˆ—è¡¨ï¼Œå¦ä¸€ä¸ªä¹Ÿä¼šå—å½±å“ã€‚

</aside>

---

## 4.5 å…ƒç»„ï¼ˆTupleï¼‰

å…ƒç»„æ˜¯**ä¸å¯å˜çš„åˆ—è¡¨**ï¼Œä½¿ç”¨**åœ†æ‹¬å·**å®šä¹‰ï¼š

```python
dimensions = (200, 50)
print(dimensions[0])    # 200
print(dimensions[1])    # 50
```

- å…ƒç»„çš„å…ƒç´ **ä¸èƒ½è¢«ä¿®æ”¹**ï¼Œå°è¯•ä¿®æ”¹ä¼šæŠ¥ `TypeError`
- å¯ä»¥ä½¿ç”¨ç´¢å¼•è®¿é—®å…ƒç´ ï¼Œå’Œåˆ—è¡¨ä¸€æ ·
- å¯ä»¥ä½¿ç”¨ `for` å¾ªç¯éå†å…ƒç»„

### å®šä¹‰åªæœ‰ä¸€ä¸ªå…ƒç´ çš„å…ƒç»„

å¿…é¡»åœ¨å…ƒç´ åé¢åŠ ä¸Š**é€—å·**ï¼š

```python
my_t = (3,)    # âœ… è¿™æ˜¯å…ƒç»„
my_t = (3)     # âŒ è¿™ä¸æ˜¯å…ƒç»„ï¼Œåªæ˜¯ä¸€ä¸ªæ•´æ•°
```

### ä¿®æ”¹å…ƒç»„å˜é‡

è™½ç„¶ä¸èƒ½ä¿®æ”¹å…ƒç»„å…ƒç´ ï¼Œä½†å¯ä»¥**é‡æ–°èµ‹å€¼**æ•´ä¸ªå…ƒç»„å˜é‡ï¼š

```python
dimensions = (200, 50)
dimensions = (400, 100)    # âœ… åˆæ³•ï¼Œç»™å˜é‡é‡æ–°èµ‹å€¼
```

---

## 4.6 è®¾ç½®ä»£ç æ ¼å¼

<aside>
ğŸ“–

**PEP 8** æ˜¯ Python çš„ä»£ç é£æ ¼æŒ‡å—ï¼Œä»¥ä¸‹æ˜¯å…³é”®å»ºè®®ï¼š

</aside>

- **ç¼©è¿›ï¼š** ä½¿ç”¨ **4 ä¸ªç©ºæ ¼**ï¼ˆä¸è¦ç”¨ Tabï¼‰
- **è¡Œé•¿ï¼š** æ¯è¡Œä»£ç ä¸è¶…è¿‡ **79 ä¸ªå­—ç¬¦**ï¼Œæ³¨é‡Šä¸è¶…è¿‡ **72 ä¸ªå­—ç¬¦**
- **ç©ºè¡Œï¼š** ç”¨ç©ºè¡Œå°†ç¨‹åºçš„ä¸åŒéƒ¨åˆ†åˆ†éš”å¼€ï¼Œå¢å¼ºå¯è¯»æ€§
- **å…¶ä»–è§„èŒƒï¼š** æ›´å¤šè¯¦æƒ…å‚è€ƒ [PEP 8](https://peps.python.org/pep-0008/)

---

## ğŸ“ æœ¬ç« å°ç»“

| **ä¸»é¢˜** | **å…³é”®è¯­æ³•** | **è¦ç‚¹** |
| --- | --- | --- |
| for å¾ªç¯ | `for item in list:` | æ³¨æ„ç¼©è¿›å’Œå†’å· |
| range() | `range(start, stop, step)` | ä¸åŒ…å«ç»ˆæ­¢å€¼ |
| åˆ—è¡¨è§£æ | `[expr for x in iterable]` | ç®€æ´åˆ›å»ºåˆ—è¡¨ |
| åˆ‡ç‰‡ | `list[start:stop:step]` | æå–å­åˆ—è¡¨ |
| å¤åˆ¶åˆ—è¡¨ | `new = old[:]` | ç”¨åˆ‡ç‰‡åˆ›å»ºå‰¯æœ¬ |
| å…ƒç»„ | `(val1, val2)` | ä¸å¯å˜åˆ—è¡¨ |
| ä»£ç é£æ ¼ | PEP 8 | 4 ç©ºæ ¼ç¼©è¿›ï¼Œ79 å­—ç¬¦é™åˆ¶ |